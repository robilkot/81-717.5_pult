# Тренажёр 81-717 на основе ESP32 и Metrostroi Subway Simulator

## Программная часть

Зависимости: gmcl_gwsockets_winXX.dll

## Аппаратная часть

### Распиновка

| Пин ESP32 | Назначение | Требования | Вывод на плату |
|-----------|------------|------------|----------------|
| 18 | Подсвет пульта (1 блок) | - | 52 F-J |
| 12 | Подсвет пульта (3 блок) | - | X |
| 14 | Подсвет В-В приборов | - | X |
| 5 | Манометр ТМ | ШИМ | 54 А-Е |
| 17 | Манометр НМ | ШИМ | 52 А-Е |
| 16 | Манометр ТЦ | ШИМ | 50 А-Е |
| 21 | Вольтметр АКБ | ШИМ | 58 А-Е |
| 34 | Потенциометр (1 блок) | АЦП | 56 F-J |
| 35 | Потенциометр (3 блок) | АЦП | 58 F-J |
| 32 | Потенциометр (КМ) | АЦП | 50 F-J |
| 23 | Амперметр ТЭД (+) | ШИМ | 44 A-E |
| 15 | Амперметр ТЭД (-) | ШИМ | 46 A-E |
| 22 | Киловольтметр | ШИМ | 48 A-E |
| 27 | 74HC165N QH (data) | - | - |
| 13 | 74HC165N SH (latch) | - | - |
| 4 | 74HC165N CLK (clock) | - | - |
| 19 | 74HC595N DS (data) | - | - |
| 25 | 74HC595N ST_CP (latch) | - | - |
| 26 | 74HC595N SH_CP (clock) | - | - |

### Подключение КВ

В = Верхняя рейка
Н = Нижняя рейка

Главный вал:
Кулачки: В-3, Н-1, Н-3, земля
Перемычки: (Н-4, Н-3)

Реверсивный вал:
Кулачки: Н-2, Н-3, земля
Перемычки: нет